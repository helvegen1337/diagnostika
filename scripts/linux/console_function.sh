#!/bin/bash
# Diagnostika v2.0 - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è Bash —Ñ—É–Ω–∫—Ü–∏—è
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –±–ª–æ–∫ –≤ –ª—é–±—É—é bash —Å–µ—Å—Å–∏—é

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –º–µ–Ω—é
show_interactive_menu() {
    local category="$1"
    local title="$2"
    local commands=("${@:3}")
    
    while true; do
        clear
        echo "‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó"
        echo "‚ïë                                        $title                                                          ‚ïë"
        echo "‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"
        
        # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–æ–º–∞–Ω–¥—ã
        for i in "${!commands[@]}"; do
            echo "$((i+1)). ${commands[i]}"
        done
        
        echo ""
        echo "0. –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
        echo "q. –í—ã–π—Ç–∏ –∏–∑ Diagnostika"
        echo ""
        
        read -p "–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: " choice
        
        case "$choice" in
            0) return 0 ;;
            q|Q) echo "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"; exit 0 ;;
            [1-9]|[1-9][0-9])
                local index=$((choice-1))
                if [ $index -lt ${#commands[@]} ]; then
                    echo ""
                    echo "üîß –í—ã–ø–æ–ª–Ω—è—é: ${commands[index]}"
                    echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
                    
                    # –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                    execute_command "$category" "$choice"
                    
                    echo ""
                    echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
                    echo "‚úÖ –ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞"
                    echo ""
                    read -p "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è..."
                else
                    echo "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä"
                    sleep 2
                fi
                ;;
            *) 
                echo "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä"
                sleep 2
                ;;
        esac
    done
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥
execute_command() {
    local category="$1"
    local choice="$2"
    
    case "$category" in
        network)
            case "$choice" in
                1) ip addr show ;;
                2) ss -tuln ;;
                3) ip route show ;;
                4) cat /etc/resolv.conf ;;
                5) ss -s ;;
                6) ping -c 3 8.8.8.8 ;;
                7) traceroute 8.8.8.8 ;;
                8) echo "–¢–µ—Å—Ç –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏: iperf3 -c speedtest.server.com" ;;
                9) netstat -tuln ;;
                10) cat /etc/protocols | head -20 ;;
                11) lspci | grep -i network ;;
                12) watch -n 1 'ss -s' ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        system)
            case "$choice" in
                1) uname -a ;;
                2) lscpu ;;
                3) free -h ;;
                4) df -h ;;
                5) uptime ;;
                6) ps aux --sort=-%cpu | head -10 ;;
                7) systemctl list-units --type=service --state=running | head -10 ;;
                8) journalctl -n 20 --no-pager ;;
                9) uname -r ;;
                10) cat /etc/os-release ;;
                11) env | head -20 ;;
                12) cat /proc/cmdline ;;
                13) ulimit -a ;;
                14) date && uptime ;;
                15) cat /proc/version ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        storage)
            case "$choice" in
                1) lsblk ;;
                2) df -h ;;
                3) df -i ;;
                4) mount | column -t ;;
                5) iostat -x 1 3 ;;
                6) find / -type f -size +100M 2>/dev/null | head -10 ;;
                7) smartctl -a /dev/sda 2>/dev/null || echo 'Smartctl –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω' ;;
                8) lvs 2>/dev/null || echo 'LVM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω' ;;
                9) cat /proc/mdstat 2>/dev/null || echo 'RAID –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω' ;;
                10) df -T ;;
                11) iostat -d 1 3 ;;
                12) watch -n 1 'df -h' ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        security)
            case "$choice" in
                1) netstat -tuln ;;
                2) ss -tuln ;;
                3) cat /etc/passwd | grep -v nologin ;;
                4) grep -Po '^sudo.+:\K.*$' /etc/group | tr ',' '\n' ;;
                5) journalctl -u ssh | grep 'Failed password' | tail -10 ;;
                6) grep -E '^(PermitRootLogin|PasswordAuthentication|Port)' /etc/ssh/sshd_config ;;
                7) iptables -L -n 2>/dev/null || ufw status 2>/dev/null || echo '–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω' ;;
                8) sestatus 2>/dev/null || echo 'SELinux –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω' ;;
                9) find /etc -type f -exec md5sum {} \; 2>/dev/null | head -10 ;;
                10) ausearch -m avc 2>/dev/null || echo '–ê—É–¥–∏—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω' ;;
                11) find /etc -perm -4000 -ls 2>/dev/null ;;
                12) watch -n 1 'ss -tuln' ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        performance)
            case "$choice" in
                1) top -bn1 | grep 'Cpu(s)' ;;
                2) free -h ;;
                3) uptime ;;
                4) ps aux --sort=-%cpu | head -10 ;;
                5) iostat -x 1 3 ;;
                6) ss -s ;;
                7) iotop -b -n 1 2>/dev/null || iostat -x 1 3 ;;
                8) vmstat 1 3 ;;
                9) cat /proc/meminfo | grep -E "(Cached|Buffers|Dirty)" ;;
                10) ss -tuln | wc -l ;;
                11) cat /proc/stat | head -5 ;;
                12) htop 2>/dev/null || top ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        docker)
            case "$choice" in
                1) docker --version ;;
                2) docker ps ;;
                3) docker ps -a ;;
                4) docker images ;;
                5) docker system df ;;
                6) docker network ls ;;
                7) docker volume ls ;;
                8) docker logs --tail 20 $(docker ps -q | head -1) 2>/dev/null || echo '–ù–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤' ;;
                9) docker stats --no-stream ;;
                10) docker system prune -f ;;
                11) docker info ;;
                12) watch -n 1 'docker ps' ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        database)
            case "$choice" in
                1) systemctl status mysql 2>/dev/null || systemctl status mysqld 2>/dev/null || echo 'MySQL –Ω–µ –Ω–∞–π–¥–µ–Ω' ;;
                2) systemctl status postgresql 2>/dev/null || echo 'PostgreSQL –Ω–µ –Ω–∞–π–¥–µ–Ω' ;;
                3) systemctl status redis 2>/dev/null || echo 'Redis –Ω–µ –Ω–∞–π–¥–µ–Ω' ;;
                4) systemctl status mongod 2>/dev/null || echo 'MongoDB –Ω–µ –Ω–∞–π–¥–µ–Ω' ;;
                5) netstat -an | grep -E ':(3306|5432|6379|27017)' ;;
                6) ps aux | grep -E '(mysql|postgres|redis|mongo)' | grep -v grep ;;
                7) ss -tuln | grep -E ':(3306|5432|6379|27017)' ;;
                8) echo "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è" ;;
                9) find /etc -name "*.cnf" -o -name "*.conf" 2>/dev/null | grep -E "(mysql|postgres|redis|mongo)" | head -5 ;;
                10) watch -n 1 'ss -tuln | grep -E ":(3306|5432|6379|27017)"' ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        web)
            case "$choice" in
                1) systemctl status nginx 2>/dev/null || systemctl status apache2 2>/dev/null || echo '–í–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω' ;;
                2) nginx -t 2>/dev/null || apache2ctl -t 2>/dev/null || echo '–¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ —É–¥–∞–ª—Å—è' ;;
                3) tail -20 /var/log/nginx/access.log 2>/dev/null || tail -20 /var/log/apache2/access.log 2>/dev/null || echo '–ñ—É—Ä–Ω–∞–ª—ã –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã' ;;
                4) find /etc/ssl -name '*.crt' -o -name '*.pem' 2>/dev/null | head -5 ;;
                5) netstat -tuln | grep -E ':(80|443|8080|8443)' ;;
                6) ps aux | grep -E '(nginx|apache|httpd)' | grep -v grep ;;
                7) ls /etc/nginx/sites-available/ 2>/dev/null || ls /etc/apache2/sites-available/ 2>/dev/null || echo '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã' ;;
                8) curl -s http://localhost/nginx_status 2>/dev/null || echo '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞' ;;
                9) curl -I http://localhost 2>/dev/null || echo '–í–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω' ;;
                10) watch -n 1 'ss -tuln | grep -E ":(80|443|8080|8443)"' ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        backup)
            case "$choice" in
                1) systemctl list-units | grep -i backup ;;
                2) crontab -l 2>/dev/null || echo '–ù–µ—Ç –∑–∞–¥–∞—á cron –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è' ;;
                3) ls -la /etc/cron.*/ 2>/dev/null || echo '–ù–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ cron' ;;
                4) find /var/backup /var/backups /backup /backups -type f -mtime -7 2>/dev/null | head -10 ;;
                5) df -h | grep -E '(backup|backups)' ;;
                6) ps aux | grep -i backup | grep -v grep ;;
                7) find /var/backup /var/backups /backup /backups -name "*.md5" -o -name "*.sha256" 2>/dev/null | head -5 ;;
                8) watch -n 5 'ps aux | grep -i backup | grep -v grep' ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        services)
            case "$choice" in
                1) systemctl list-units --type=service --state=running ;;
                2) systemctl list-units --type=service --state=inactive ;;
                3) systemctl list-units --type=service --state=failed ;;
                4) systemctl list-units --type=service --all | head -20 ;;
                5) systemctl list-dependencies multi-user.target ;;
                6) journalctl -u systemd --no-pager | tail -20 ;;
                7) systemctl status ;;
                8) systemctl list-units --type=service --state=running --no-pager | head -20 ;;
                9) systemctl list-units --type=service --state=running --no-pager | grep -E "(root|system)" ;;
                10) watch -n 1 'systemctl list-units --type=service --state=running | head -10' ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        processes)
            case "$choice" in
                1) ps aux --sort=-%cpu | head -10 ;;
                2) ps aux --sort=-%mem | head -10 ;;
                3) ps aux | head -20 ;;
                4) ps aux | grep -E "^$(whoami)" | head -10 ;;
                5) pstree -p | head -20 ;;
                6) ps aux | grep -E "^root" | head -10 ;;
                7) ps -eo pid,ppid,cmd,ni | sort -k4 -n | head -10 ;;
                8) ps aux | grep -E "Z" ;;
                9) ps -eo pid,ppid,cmd,pgid | head -20 ;;
                10) htop 2>/dev/null || top ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        monitoring)
            case "$choice" in
                1) echo "=== –°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´ ===" && uptime && echo "=== –ü–†–û–¶–ï–°–°–û–† ===" && top -bn1 | grep 'Cpu(s)' && echo "=== –ü–ê–ú–Ø–¢–¨ ===" && free -h && echo "=== –î–ò–°–ö–ò ===" && df -h ;;
                2) watch -n 1 'top -bn1 | grep "Cpu(s)"' ;;
                3) watch -n 1 'free -h' ;;
                4) watch -n 1 'df -h' ;;
                5) watch -n 1 'ss -s' ;;
                6) sensors 2>/dev/null || echo '–î–∞—Ç—á–∏–∫–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã' ;;
                7) journalctl -f --no-pager ;;
                8) htop 2>/dev/null || top ;;
                *) echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä" ;;
            esac
            ;;
        *)
            echo "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: $category"
            ;;
    esac
}

# –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è diagnostika —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –º–µ–Ω—é
diagnostika() {
    local category="$1"
    
    # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
    if [ -z "$category" ]; then
        while true; do
            clear
            echo "‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó"
            echo "‚ïë                                   Diagnostika v2.0 - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞                               ‚ïë"
            echo "‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"
            echo "                         –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"
            echo "‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ"
            echo "‚îÇ   üåê –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏        ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 12 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è    ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 15 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   üíæ –ê–Ω–∞–ª–∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞       ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 12 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 12 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ ‚îÇ üìÅ –ú–µ–Ω—é ‚îÇ 12 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   üê≥ –°—Ç–∞—Ç—É—Å Docker          ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 12 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   üóÑÔ∏è –°—Ç–∞—Ç—É—Å –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö      ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 10 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   üåç –í–µ–±-—Å–µ—Ä–≤–∏—Å—ã            ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 10 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   üíø –°—Ç–∞—Ç—É—Å —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è ‚îÇ üìÅ –ú–µ–Ω—é ‚îÇ 8 –∫–æ–º–∞–Ω–¥       ‚îÇ"
            echo "‚îÇ   üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–ª—É–∂–±—ã       ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 10 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   üì± –ü—Ä–æ—Ü–µ—Å—Å—ã –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã    ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 10 –∫–æ–º–∞–Ω–¥      ‚îÇ"
            echo "‚îÇ   üå°Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã     ‚îÇ üìÅ –ú–µ–Ω—é    ‚îÇ 8 –∫–æ–º–∞–Ω–¥       ‚îÇ"
            echo "‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ"
            echo ""
            echo "0. –í—ã–π—Ç–∏ –∏–∑ Diagnostika"
            echo ""
            
            read -p "–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é: " choice
            
            case "$choice" in
                0|q|Q) echo "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"; exit 0 ;;
                1|network) 
                    show_interactive_menu "network" "–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –°–ï–¢–ò" \
                        "–°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã" "–°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è" "–¢–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏" \
                        "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DNS" "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏" "–¢–µ—Å—Ç –ø–∏–Ω–≥–∞" "–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞" \
                        "–¢–µ—Å—Ç –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏" "–°–µ—Ç–µ–≤—ã–µ –ø–æ—Ä—Ç—ã" "–°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã" \
                        "–°–µ—Ç–µ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞" "–°–µ—Ç–µ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                    ;;
                2|system)
                    show_interactive_menu "system" "–°–ò–°–¢–ï–ú–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø" \
                        "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏" \
                        "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤" "–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã" "–¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤" "–°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±" \
                        "–°–∏—Å—Ç–µ–º–Ω—ã–µ –∂—É—Ä–Ω–∞–ª—ã" "–í–µ—Ä—Å–∏—è —è–¥—Ä–∞" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–µ" \
                        "–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≥—Ä—É–∑—á–∏–∫–µ" "–°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è" \
                        "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ä–µ–º–µ–Ω–∏" "–°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã"
                    ;;
                3|storage)
                    show_interactive_menu "storage" "–ê–ù–ê–õ–ò–ó –•–†–ê–ù–ò–õ–ò–©–ê" \
                        "–†–∞–∑–¥–µ–ª—ã –¥–∏—Å–∫–æ–≤" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ inode" \
                        "–¢–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è" "–í–≤–æ–¥-–≤—ã–≤–æ–¥ –¥–∏—Å–∫–æ–≤" "–ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã" \
                        "–ó–¥–æ—Ä–æ–≤—å–µ –¥–∏—Å–∫–æ–≤" "–°—Ç–∞—Ç—É—Å LVM" "RAID –º–∞—Å—Å–∏–≤—ã" "–§–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã" \
                        "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∏—Å–∫–æ–≤" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∏—Å–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                    ;;
                4|security)
                    show_interactive_menu "security" "–ü–†–û–í–ï–†–ö–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò" \
                        "–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã" "–°–ª—É–∂–±—ã –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è" "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏" \
                        "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ sudo" "–ù–µ—É–¥–∞—á–Ω—ã–µ –≤—Ö–æ–¥—ã" "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SSH" \
                        "–°—Ç–∞—Ç—É—Å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞" "–°—Ç–∞—Ç—É—Å SELinux" "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤" \
                        "–ê—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã" "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                    ;;
                5|performance)
                    show_interactive_menu "performance" "–ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò" \
                        "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏" "–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã" \
                        "–¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤" "–û–∂–∏–¥–∞–Ω–∏–µ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏" \
                        "–í–≤–æ–¥-–≤—ã–≤–æ–¥ –¥–∏—Å–∫–æ–≤" "–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã" "–ö—ç—à –∏ –±—É—Ñ–µ—Ä—ã" \
                        "–°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è" "–°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                    ;;
                6|docker)
                    show_interactive_menu "docker" "–°–¢–ê–¢–£–° DOCKER" \
                        "–í–µ—Ä—Å–∏—è Docker" "–ó–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã" "–í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã" \
                        "–û–±—Ä–∞–∑—ã Docker" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ Docker" "–°–µ—Ç–∏ Docker" \
                        "–¢–æ–º–∞ Docker" "–ñ—É—Ä–Ω–∞–ª—ã Docker" "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤" \
                        "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ Docker" \
                        "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Docker –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                    ;;
                7|database)
                    show_interactive_menu "database" "–°–¢–ê–¢–£–° –ë–ê–ó –î–ê–ù–ù–´–•" \
                        "–°—Ç–∞—Ç—É—Å MySQL" "–°—Ç–∞—Ç—É—Å PostgreSQL" "–°—Ç–∞—Ç—É—Å Redis" "–°—Ç–∞—Ç—É—Å MongoDB" \
                        "–°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö" "–ü—Ä–æ—Ü–µ—Å—Å—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö" "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ –ë–î" \
                        "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î" "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ë–î –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                    ;;
                8|web)
                    show_interactive_menu "web" "–í–ï–ë-–°–ï–†–í–ò–°–´" \
                        "–°—Ç–∞—Ç—É—Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" "–ñ—É—Ä–Ω–∞–ª—ã –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" \
                        "SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã" "–í–µ–±-–ø–æ—Ä—Ç—ã" "–ü—Ä–æ—Ü–µ—Å—Å—ã –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" \
                        "–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã" "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏" \
                        "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                    ;;
                9|backup)
                    show_interactive_menu "backup" "–°–¢–ê–¢–£–° –†–ï–ó–ï–†–í–ù–û–ì–û –ö–û–ü–ò–†–û–í–ê–ù–ò–Ø" \
                        "–°–ª—É–∂–±—ã —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è" "–ó–∞–¥–∞—á–∏ cron" "–°–∏—Å—Ç–µ–º–Ω—ã–π cron" \
                        "–ù–µ–¥–∞–≤–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è" \
                        "–ü—Ä–æ—Ü–µ—Å—Å—ã —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è" "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π" \
                        "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è"
                    ;;
                10|services)
                    show_interactive_menu "services" "–°–ò–°–¢–ï–ú–ù–´–ï –°–õ–£–ñ–ë–´" \
                        "–í—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã" "–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã" "–°–ª—É–∂–±—ã —Å –æ—à–∏–±–∫–∞–º–∏" \
                        "–°–ª—É–∂–±—ã –ø–æ —Ç–∏–ø–∞–º" "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–ª—É–∂–±" "–ñ—É—Ä–Ω–∞–ª—ã —Å–ª—É–∂–±" \
                        "–°—Ç–∞—Ç—É—Å systemd" "–°–ª—É–∂–±—ã –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É" "–°–ª—É–∂–±—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º" \
                        "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–ª—É–∂–± –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                    ;;
                11|processes)
                    show_interactive_menu "processes" "–ü–†–û–¶–ï–°–°–´ –ò –ü–†–û–¶–ï–°–°–´" \
                        "–¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ CPU" "–¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –ø–∞–º—è—Ç–∏" "–í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã" \
                        "–ü—Ä–æ—Ü–µ—Å—Å—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º" "–î–µ—Ä–µ–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤" "–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã" \
                        "–ü—Ä–æ—Ü–µ—Å—Å—ã —Å –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º" "–ó–æ–º–±–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã" "–ü—Ä–æ—Ü–µ—Å—Å—ã –ø–æ –≥—Ä—É–ø–ø–∞–º" \
                        "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                    ;;
                12|monitoring)
                    show_interactive_menu "monitoring" "–ú–û–ù–ò–¢–û–†–ò–ù–ì –°–ò–°–¢–ï–ú–´" \
                        "–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CPU" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏" \
                        "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∏—Å–∫–æ–≤" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–∏" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã" \
                        "–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è" "–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
                    ;;
                *) 
                    echo "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä"
                    sleep 2
                    ;;
            esac
        done
    else
        # –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
        case "$category" in
            network) 
                show_interactive_menu "network" "–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –°–ï–¢–ò" \
                    "–°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã" "–°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è" "–¢–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏" \
                    "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DNS" "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏" "–¢–µ—Å—Ç –ø–∏–Ω–≥–∞" "–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞" \
                    "–¢–µ—Å—Ç –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏" "–°–µ—Ç–µ–≤—ã–µ –ø–æ—Ä—Ç—ã" "–°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã" \
                    "–°–µ—Ç–µ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞" "–°–µ—Ç–µ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                ;;
            system)
                show_interactive_menu "system" "–°–ò–°–¢–ï–ú–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø" \
                    "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏" \
                    "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤" "–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã" "–¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤" "–°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±" \
                    "–°–∏—Å—Ç–µ–º–Ω—ã–µ –∂—É—Ä–Ω–∞–ª—ã" "–í–µ—Ä—Å–∏—è —è–¥—Ä–∞" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–µ" \
                    "–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≥—Ä—É–∑—á–∏–∫–µ" "–°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è" \
                    "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ä–µ–º–µ–Ω–∏" "–°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã"
                ;;
            storage)
                show_interactive_menu "storage" "–ê–ù–ê–õ–ò–ó –•–†–ê–ù–ò–õ–ò–©–ê" \
                    "–†–∞–∑–¥–µ–ª—ã –¥–∏—Å–∫–æ–≤" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ inode" \
                    "–¢–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è" "–í–≤–æ–¥-–≤—ã–≤–æ–¥ –¥–∏—Å–∫–æ–≤" "–ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã" \
                    "–ó–¥–æ—Ä–æ–≤—å–µ –¥–∏—Å–∫–æ–≤" "–°—Ç–∞—Ç—É—Å LVM" "RAID –º–∞—Å—Å–∏–≤—ã" "–§–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã" \
                    "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∏—Å–∫–æ–≤" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∏—Å–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                ;;
            security)
                show_interactive_menu "security" "–ü–†–û–í–ï–†–ö–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò" \
                    "–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã" "–°–ª—É–∂–±—ã –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è" "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏" \
                    "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ sudo" "–ù–µ—É–¥–∞—á–Ω—ã–µ –≤—Ö–æ–¥—ã" "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SSH" \
                    "–°—Ç–∞—Ç—É—Å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞" "–°—Ç–∞—Ç—É—Å SELinux" "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤" \
                    "–ê—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã" "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                ;;
            performance)
                show_interactive_menu "performance" "–ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò" \
                    "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏" "–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã" \
                    "–¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤" "–û–∂–∏–¥–∞–Ω–∏–µ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏" \
                    "–í–≤–æ–¥-–≤—ã–≤–æ–¥ –¥–∏—Å–∫–æ–≤" "–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã" "–ö—ç—à –∏ –±—É—Ñ–µ—Ä—ã" \
                    "–°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è" "–°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                ;;
            docker)
                show_interactive_menu "docker" "–°–¢–ê–¢–£–° DOCKER" \
                    "–í–µ—Ä—Å–∏—è Docker" "–ó–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã" "–í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã" \
                    "–û–±—Ä–∞–∑—ã Docker" "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ Docker" "–°–µ—Ç–∏ Docker" \
                    "–¢–æ–º–∞ Docker" "–ñ—É—Ä–Ω–∞–ª—ã Docker" "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤" \
                    "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ Docker" \
                    "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Docker –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                ;;
            database)
                show_interactive_menu "database" "–°–¢–ê–¢–£–° –ë–ê–ó –î–ê–ù–ù–´–•" \
                    "–°—Ç–∞—Ç—É—Å MySQL" "–°—Ç–∞—Ç—É—Å PostgreSQL" "–°—Ç–∞—Ç—É—Å Redis" "–°—Ç–∞—Ç—É—Å MongoDB" \
                    "–°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö" "–ü—Ä–æ—Ü–µ—Å—Å—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö" "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ –ë–î" \
                    "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î" "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ë–î –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                ;;
            web)
                show_interactive_menu "web" "–í–ï–ë-–°–ï–†–í–ò–°–´" \
                    "–°—Ç–∞—Ç—É—Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" "–ñ—É—Ä–Ω–∞–ª—ã –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" \
                    "SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã" "–í–µ–±-–ø–æ—Ä—Ç—ã" "–ü—Ä–æ—Ü–µ—Å—Å—ã –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" \
                    "–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã" "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞" "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏" \
                    "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                ;;
            backup)
                show_interactive_menu "backup" "–°–¢–ê–¢–£–° –†–ï–ó–ï–†–í–ù–û–ì–û –ö–û–ü–ò–†–û–í–ê–ù–ò–Ø" \
                    "–°–ª—É–∂–±—ã —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è" "–ó–∞–¥–∞—á–∏ cron" "–°–∏—Å—Ç–µ–º–Ω—ã–π cron" \
                    "–ù–µ–¥–∞–≤–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏" "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è" \
                    "–ü—Ä–æ—Ü–µ—Å—Å—ã —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è" "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π" \
                    "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è"
                ;;
            services)
                show_interactive_menu "services" "–°–ò–°–¢–ï–ú–ù–´–ï –°–õ–£–ñ–ë–´" \
                    "–í—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã" "–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã" "–°–ª—É–∂–±—ã —Å –æ—à–∏–±–∫–∞–º–∏" \
                    "–°–ª—É–∂–±—ã –ø–æ —Ç–∏–ø–∞–º" "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–ª—É–∂–±" "–ñ—É—Ä–Ω–∞–ª—ã —Å–ª—É–∂–±" \
                    "–°—Ç–∞—Ç—É—Å systemd" "–°–ª—É–∂–±—ã –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É" "–°–ª—É–∂–±—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º" \
                    "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–ª—É–∂–± –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                ;;
            processes)
                show_interactive_menu "processes" "–ü–†–û–¶–ï–°–°–´ –ò –ü–†–û–¶–ï–°–°–´" \
                    "–¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ CPU" "–¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –ø–∞–º—è—Ç–∏" "–í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã" \
                    "–ü—Ä–æ—Ü–µ—Å—Å—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º" "–î–µ—Ä–µ–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤" "–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã" \
                    "–ü—Ä–æ—Ü–µ—Å—Å—ã —Å –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º" "–ó–æ–º–±–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã" "–ü—Ä–æ—Ü–µ—Å—Å—ã –ø–æ –≥—Ä—É–ø–ø–∞–º" \
                    "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
                ;;
            monitoring)
                show_interactive_menu "monitoring" "–ú–û–ù–ò–¢–û–†–ò–ù–ì –°–ò–°–¢–ï–ú–´" \
                    "–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CPU" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏" \
                    "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∏—Å–∫–æ–≤" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–∏" "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã" \
                    "–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è" "–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
                ;;
            *)
                echo "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: $category"
                echo "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: network, system, storage, security, performance, docker, database, web, backup, services, processes, monitoring"
                ;;
        esac
    fi
}

# –°–æ–∑–¥–∞–µ–º –∞–ª–∏–∞—Å—ã
alias diag='diagnostika'
alias help='diagnostika'
alias menu='diagnostika'

# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–¥–æ–±–æ–ª–æ—á–µ–∫
export -f diagnostika

 